<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Happy Birthday, Ayanfe ❤️</title>
<style>
  :root {
    --bg:#0b1021;
    --panel:#0e1631;
    --ink:#f8fafc;
    --muted:#cbd5e1;
    --gold:#fbbf24;
    --rose:#fb7185;
    --teal:#34d399;
  }
  * { box-sizing: border-box; }
  body {
    margin:0;
    min-height:100vh;
    color:var(--ink);
    background: radial-gradient(1400px 900px at 70% -20%, #1f2a44 0%, var(--bg) 60%) fixed;
    font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;
    overflow-x:hidden;
  }
  .sky { position:fixed; inset:0; z-index:-1; pointer-events:none; overflow:hidden; }
  .petal {
    position:absolute; left:50%; top:-10vh;
    width:14px; height:10px; border-radius:10px 10px 10px 10px/14px 14px 6px 6px;
    background: linear-gradient(180deg, #ffd6e0, #ff8fab);
    opacity:.25; transform: translateX(-50%);
    animation: fall var(--dur) linear infinite;
    filter: blur(0.2px);
  }
  @keyframes fall {
    0% { transform: translateX(var(--x)) translateY(-10vh) rotate(0deg); opacity:.25; }
    50% { opacity:.35; }
    100% { transform: translateX(calc(var(--x) + var(--sw))) translateY(110vh) rotate(360deg); opacity:0; }
  }
  .wrap { max-width: 940px; margin: clamp(16px,3vw,40px) auto; padding: clamp(14px,3vw,28px); }
  .card {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 28px;
    padding: clamp(16px, 3.5vw, 40px);
    box-shadow: 0 20px 60px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.03);
    backdrop-filter: blur(3px);
  }
  .hero{
    position:relative; border-radius:22px; overflow:hidden; aspect-ratio: 16/9; margin-bottom: 18px;
    transform: translateZ(0);
    transition: transform .4s ease;
    will-change: transform;
  }
  .hero img{ width:100%; height:100%; object-fit:cover; display:block; filter: saturate(1.05) contrast(1.03); }
  .hero::after{
    content:""; position:absolute; inset:0;
    background: radial-gradient(900px 300px at 70% 0%, rgba(255,255,255,.10), transparent),
                linear-gradient(180deg, transparent 65%, rgba(0,0,0,.45));
  }
  h1 {
    margin: 6px 0 2px; line-height:1.08;
    font-size: clamp(28px, 5.5vw, 56px);
    font-weight: 900; letter-spacing:.3px;
    background: linear-gradient(90deg, #fff, #fde68a, #fff);
    -webkit-background-clip:text; background-clip:text; color:transparent;
  }
  .type { border-right: 2px solid var(--gold); white-space: nowrap; overflow: hidden; }
  .typewriter { width:0; animation: typing 3.8s steps(38,end) forwards, caret 1s step-end infinite; }
  @keyframes typing { from { width:0 } to { width:100% } }
  @keyframes caret { 50% { border-color: transparent } }
  .subtitle { color:var(--muted); margin-bottom:18px; font-size: clamp(14px, 2.2vw, 18px); }
  .msg p { margin:0 0 18px; font-size: clamp(16px, 2.4vw, 19px); line-height:1.8; }
  .w { opacity:0; transform: translateY(8px) scale(.98); display:inline-block; animation: riseIn .6s cubic-bezier(.21,1,.21,1) forwards; }
  @keyframes riseIn { to { opacity:1; transform: translateY(0) scale(1); } }
  .toolbar { display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; margin-top:18px; color:#9fb0c6; }
  .btn { background: var(--gold); color:#1a1f2e; border:none; border-radius:12px; padding:10px 14px; font-weight:800; cursor:pointer; }
  .btn.secondary { background:#223054; color:#dbe7ff; border:1px solid #2f3e63; }
  .note { font-size:13px; }
  .heartburst { position:fixed; inset:0; pointer-events:none; z-index:10; }
  .heart { position:absolute; width:12px; height:12px; background: var(--rose); transform: rotate(45deg); animation: pop 1.2s ease-out forwards; }
  .heart::before, .heart::after { content:""; position:absolute; width:12px; height:12px; background:inherit; border-radius:50%; }
  .heart::before { left:-6px; top:0; }
  .heart::after { top:-6px; left:0; }
  @keyframes pop {
    0% { transform: translate(-50%, -50%) scale(.6) rotate(45deg); opacity:1; }
    80% { opacity:1; }
    100% { transform: translate(var(--dx), var(--dy)) scale(0) rotate(45deg); opacity:0; }
  }
  @media (max-width: 380px){
    .toolbar { gap:8px; }
    .btn{ padding:9px 12px; font-weight:700; }
  }
</style>
</head>
<body>
  <div class="sky" aria-hidden="true"></div>

  <div class="wrap">
    <div class="card">
      <div class="hero" id="hero">
        <img alt="Ghibli-style couple illustration" src="A_hand-drawn,_anime-style_illustration_depicts_a_y.png"/>
      </div>

      <h1 class="type typewriter">Happy Birthday, Ayanfe ❤️</h1>
      <p class="subtitle">From your person • 2025</p>

      <div class="msg" id="message">
        <p>
          <span class="w" style="animation-delay:0.20s">My</span> <span class="w" style="animation-delay:0.26s">love,</span>
          <span class="w" style="animation-delay:0.32s">I</span> <span class="w" style="animation-delay:0.38s">don’t</span>
          <span class="w" style="animation-delay:0.44s">have</span> <span class="w" style="animation-delay:0.50s">enough</span>
          <span class="w" style="animation-delay:0.56s">words</span> <span class="w" style="animation-delay:0.62s">to</span>
          <span class="w" style="animation-delay:0.68s">explain</span> <span class="w" style="animation-delay:0.74s">how</span>
          <span class="w" style="animation-delay:0.80s">I</span> <span class="w" style="animation-delay:0.86s">feel</span>
          <span class="w" style="animation-delay:0.92s">about</span> <span class="w" style="animation-delay:0.98s">you—</span>
          <span class="w" style="animation-delay:1.04s">but</span> <span class="w" style="animation-delay:1.10s">I’ll</span>
          <span class="w" style="animation-delay:1.16s">try</span> <span class="w" style="animation-delay:1.22s">my</span>
          <span class="w" style="animation-delay:1.28s">best.</span>
        </p>
        <p>
          It’s amazing how Allah writes our stories. When this year began, I never imagined it would turn this way—things even got harder for a while. Then He brought you into my life, and you brought back my spark, my joy, and my peace. You do that so effortlessly.
        </p>
        <p>
          It’s one thing to be loved, and another to be truly cared for—and that’s what you do. Even with the distance, you still check on me, ask what I’ve eaten, and call me out when I skip my workout. That steady, gentle effort is what I think about every day. Thank you for being there and for accepting me as yours.
        </p>
        <p>
          As today marks a monumental day in your life, it’s not just your day—it’s ours. I pray we grow by leaps and bounds; that our days are filled with peace, tranquility, love, prosperity, and above all, a deepening love for Allah. You have been an anchor for me, and I am so grateful.
        </p>
        <p>
          I know the distance hasn’t made things easy, but it has grown our friendship and strengthened our bond before anything else. I wish I could celebrate this birthday with you in person, but know that I am with you in spirit and in your heart.
        </p>
        <p>
          Ayanfe—the one my heart yearns for—I love you so much. Happy Birthday, my love.
        </p>
      </div>

      <div class="toolbar">
        <div class="note">Tap the gold button for a little surprise ✨</div>
        <div>
          <button class="btn" onclick="burst()">Send hearts</button>
          <button class="btn" id="musicBtn" onclick="toggleMusic()">Play music</button>
          <button class="btn secondary" onclick="replay()">Replay</button>
        </div>
      </div>

      <audio id="bgm" src="Ayanfe.mo3" preload="auto" loop playsinline></audio>
    </div>
  </div>

  <div class="heartburst" id="burst"></div>

<script>
  // generate petals
  (function(){
    const sky = document.querySelector('.sky');
    for (let i=0; i<22; i++){
      const p = document.createElement('div');
      p.className = 'petal';
      p.style.setProperty('--dur', (6 + (i % 5)) + 's');
      p.style.setProperty('--x', (-45 + i * 6) + 'vw');
      p.style.setProperty('--sw', (-10 + (i % 6) * 4) + 'vw');
      sky.appendChild(p);
    }
  })();

  // Parallax tilt on the hero image
  (function() {
    const hero = document.getElementById('hero');
    let rect;
    function setTilt(e) {
      rect = rect || hero.getBoundingClientRect();
      const x = (e.clientX - rect.left)/rect.width - .5;
      const y = (e.clientY - rect.top)/rect.height - .5;
      hero.style.transform = `perspective(900px) rotateY(${x*4}deg) rotateX(${-y*4}deg) translateZ(6px)`;
    }
    function reset() { hero.style.transform = 'translateZ(0)'; rect = null; }
    hero.addEventListener('mousemove', setTilt);
    hero.addEventListener('mouseleave', reset);
    hero.addEventListener('touchmove', (e)=>{ if(!e.touches[0]) return; setTilt(e.touches[0]); }, {passive:true});
    hero.addEventListener('touchend', reset);
  })();

  // Hearts burst (confetti-like, but heart shapes)
  function burst() {
    const wrap = document.getElementById('burst');
    const centerX = window.innerWidth/2;
    const centerY = window.innerHeight/3;
    for (let i=0;i<36;i++) {
      const h = document.createElement('div');
      h.className = 'heart';
      h.style.left = centerX + 'px';
      h.style.top = centerY + 'px';
      const angle = (Math.PI*2) * (i/36);
      const dist = 120 + Math.random()*160;
      const dx = Math.cos(angle)*dist;
      const dy = Math.sin(angle)*dist;
      h.style.setProperty('--dx', dx + 'px');
      h.style.setProperty('--dy', dy + 'px');
      h.style.background = i%2===0 ? 'var(--rose)' : 'var(--teal)';
      wrap.appendChild(h);
      setTimeout(()=>wrap.removeChild(h), 1200);
    }
  }

  // Music controls with mobile gesture enable
  const bgm = document.getElementById('bgm');
  const musicBtn = document.getElementById('musicBtn');

  function enableOnFirstGesture() {
    const tryPlay = () => {
      bgm.play().then(() => {
        musicBtn.textContent = 'Pause music';
      }).catch(() => { /* user can press the button manually */ });
      window.removeEventListener('pointerdown', tryPlay);
      window.removeEventListener('touchstart', tryPlay);
      window.removeEventListener('click', tryPlay);
    };
    window.addEventListener('pointerdown', tryPlay, { once: true });
    window.addEventListener('touchstart', tryPlay, { once: true });
    window.addEventListener('click', tryPlay, { once: true });
  }
  enableOnFirstGesture();

  function toggleMusic() {
    if (bgm.paused) {
      bgm.play().then(() => { musicBtn.textContent = 'Pause music'; });
    } else {
      bgm.pause();
      musicBtn.textContent = 'Play music';
    }
  }

  // Replay animations
  function replay() {
    // re-run typewriter
    const t = document.querySelector('.typewriter');
    if (t){
      t.style.animation='none'; t.offsetHeight; t.style.animation='typing 3.8s steps(38,end) forwards, caret 1s step-end infinite';
    }
    // re-run word reveals
    document.querySelectorAll('.w').forEach((el)=>{
      el.style.animation='none'; el.offsetHeight; el.style.animation='riseIn .6s cubic-bezier(.21,1,.21,1) forwards';
    });
    // small petal pulse
    burst();
  }

  // Typewriter class and staggered words for paragraphs without spans
  window.addEventListener('load', () => {
    // Typewriter effect for h1
    const h1 = document.querySelector('h1');
    h1.classList.add('typewriter');
    // Wrap remaining paragraphs
    let base = 0.2;
    document.querySelectorAll('.msg p').forEach((p, idx) => {
      if (idx === 0) { base += 0.6; return; } // first paragraph already has spans
      const words = p.textContent.trim().split(/\\s+/);
      p.innerHTML = words.map((w, i)=> `<span class="w" style="animation-delay:${(base + i*0.05).toFixed(2)}s">${w}</span>`).join(' ');
      base += 0.6;
    });
    setTimeout(burst, 900);
  });
</script>
</body>
</html>
